<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Implementación de modelos. | Faros del Mercado: Índices Bursátiles que Guían la Economía Mundial.</title>
  <meta name="description" content="Serie de tiempo" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Implementación de modelos. | Faros del Mercado: Índices Bursátiles que Guían la Economía Mundial." />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Serie de tiempo" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Implementación de modelos. | Faros del Mercado: Índices Bursátiles que Guían la Economía Mundial." />
  
  <meta name="twitter:description" content="Serie de tiempo" />
  

<meta name="author" content="Paolo De La Hoz Vicari, Genjis Ossa Gonzales" />


<meta name="date" content="2025-05-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="desarrollo-actividad-3..html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Series de Tiempo Acciones Mercado de Valores</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Descripción del proceso y justificación del análisis de los valores bursátiles en los principales mercados globales: Estados Unidos, Europa y Asia.</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#descripción-del-proyecto."><i class="fa fa-check"></i><b>1.1</b> Descripción del proyecto.</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#justificación-e-importancia-del-análisis."><i class="fa fa-check"></i><b>1.2</b> Justificación e importancia del análisis.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i><b>2</b> Referencias</a></li>
<li class="chapter" data-level="3" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html"><i class="fa fa-check"></i><b>3</b> Desarrollo Actividad 2.</a>
<ul>
<li class="chapter" data-level="3.1" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#preprocesamiento-de-datos."><i class="fa fa-check"></i><b>3.1</b> Preprocesamiento de datos.</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#cargar-las-librerías-necesarias"><i class="fa fa-check"></i><b>3.1.1</b> Cargar las librerías necesarias</a></li>
<li class="chapter" data-level="3.1.2" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#definimos-los-índices-bursátiles-de-interés-yahoo-finance-symbols."><i class="fa fa-check"></i><b>3.1.2</b> Definimos los índices bursátiles de interés (Yahoo Finance symbols).</a></li>
<li class="chapter" data-level="3.1.3" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#descargamos-los-datos-de-yahoo-finance-desde-el-2019."><i class="fa fa-check"></i><b>3.1.3</b> Descargamos los datos de Yahoo Finance desde el 2019.</a></li>
<li class="chapter" data-level="3.1.4" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#asignamos-nombres-a-cada-índice."><i class="fa fa-check"></i><b>3.1.4</b> Asignamos nombres a cada índice.</a></li>
<li class="chapter" data-level="3.1.5" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#extraemos-solo-los-precios-de-cierre-y-convertimos-cada-serie-en-un-objeto-zoo."><i class="fa fa-check"></i><b>3.1.5</b> Extraemos solo los precios de cierre y convertimos cada serie en un objeto zoo.</a></li>
<li class="chapter" data-level="3.1.6" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#unimos-todas-las-series-zoo-en-un-solo-objeto."><i class="fa fa-check"></i><b>3.1.6</b> Unimos todas las series zoo en un solo objeto.</a></li>
<li class="chapter" data-level="3.1.7" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#visualizamos-la-estructura."><i class="fa fa-check"></i><b>3.1.7</b> Visualizamos la estructura.</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#gráfico-de-evolución-histórica-de-todos-los-índices."><i class="fa fa-check"></i><b>3.2</b> Gráfico de evolución histórica de todos los índices.</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#convertir-a-un-data-frame-para-ggplot-y-reestructuración-en-formato-largo-para-gráficos."><i class="fa fa-check"></i><b>3.2.1</b> Convertir a un data frame para ggplot y reestructuración en formato largo para gráficos.</a></li>
<li class="chapter" data-level="3.2.2" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#gráfico."><i class="fa fa-check"></i><b>3.2.2</b> Gráfico.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#promedios-móviles"><i class="fa fa-check"></i><b>3.3</b> Promedios Móviles</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#aplicamos-promedio-móvil-7-30-90-días-para-cada-índice."><i class="fa fa-check"></i><b>3.3.1</b> Aplicamos promedio móvil (7, 30, 90 días) para cada índice.</a></li>
<li class="chapter" data-level="3.3.2" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#asignamos-los-nombres-de-los-indices"><i class="fa fa-check"></i><b>3.3.2</b> Asignamos los nombres de los indices</a></li>
<li class="chapter" data-level="3.3.3" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#graficamos-los-promedios-móviles-en-todos-los-indices-con-7-30-90-días"><i class="fa fa-check"></i><b>3.3.3</b> Graficamos los promedios móviles en todos los indices con (7, 30, 90 días)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#autocorrelación-acf"><i class="fa fa-check"></i><b>3.4</b> AutoCorrelación ACF</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#graficamos-la-autocorrelación-acf-en-todos-los-indices."><i class="fa fa-check"></i><b>3.4.1</b> Graficamos la autocorrelación (ACF) en todos los indices.</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#descomposición-de-serie-de-tiempo."><i class="fa fa-check"></i><b>3.5</b> Descomposición de serie de tiempo.</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#descomponemos-y-graficamos-los-indices-bursatiles-utilizando-la-forma-clasica-y-stl-con-pasos-de-limpieza-e-implementación."><i class="fa fa-check"></i><b>3.5.1</b> Descomponemos y graficamos los indices bursatiles utilizando la forma clasica y STL con pasos de limpieza e implementación.</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#tabla-de-resumen-con-tendencia-estacionalidad-y-ruido-para-todos-los-indices."><i class="fa fa-check"></i><b>3.6</b> Tabla de resumen con tendencia, estacionalidad y ruido; para todos los indices.</a></li>
<li class="chapter" data-level="3.7" data-path="desarrollo-actividad-2..html"><a href="desarrollo-actividad-2..html#mapa-de-calor"><i class="fa fa-check"></i><b>3.7</b> Mapa de calor</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html"><i class="fa fa-check"></i><b>4</b> Desarrollo Actividad 3.</a>
<ul>
<li class="chapter" data-level="4.1" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html#validación-de-supuestos-e-implementación-de-transformaciones-requeridas-en-las-series."><i class="fa fa-check"></i><b>4.1</b> Validación de supuestos e implementación de transformaciones requeridas en las series.</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html#procesos-implementados."><i class="fa fa-check"></i><b>4.1.1</b> Procesos implementados.</a></li>
<li class="chapter" data-level="4.1.2" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html#resumen-del-análisis-de-estacionariedad-por-índice-bursátil"><i class="fa fa-check"></i><b>4.1.2</b> Resumen del análisis de estacionariedad por índice bursátil</a></li>
<li class="chapter" data-level="4.1.3" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html#creamos-el-objeto-tabla-del-resumen-final."><i class="fa fa-check"></i><b>4.1.3</b> Creamos el objeto tabla del resumen final.</a></li>
<li class="chapter" data-level="4.1.4" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html#implementación-de-procesos-sobre-los-índices-bursátile-en-tres-etapas-limpieza-transformación-si-aplica-y-verificación-de-estacionariedad-con-visualizaciones-intermedias."><i class="fa fa-check"></i><b>4.1.4</b> Implementación de procesos sobre los índices bursátile en tres etapas: limpieza, transformación (si aplica), y verificación de estacionariedad, con visualizaciones intermedias.</a></li>
<li class="chapter" data-level="4.1.5" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html#iteramos-los-indices-bursatiles-sobre-la-función-realizada."><i class="fa fa-check"></i><b>4.1.5</b> Iteramos los indices bursatiles sobre la función realizada.</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="desarrollo-actividad-3..html"><a href="desarrollo-actividad-3..html#tabla-de-resumen."><i class="fa fa-check"></i><b>4.2</b> Tabla de resumen.</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="implementación-de-modelos..html"><a href="implementación-de-modelos..html"><i class="fa fa-check"></i><b>5</b> Implementación de modelos.</a>
<ul>
<li class="chapter" data-level="5.1" data-path="implementación-de-modelos..html"><a href="implementación-de-modelos..html#validación-de-los-modelos-arima-diagnóstico-de-residuos."><i class="fa fa-check"></i><b>5.1</b> Validación de los Modelos ARIMA: Diagnóstico de Residuos.</a></li>
<li class="chapter" data-level="5.2" data-path="implementación-de-modelos..html"><a href="implementación-de-modelos..html#resumen-por-índice-bursátil-diagnóstico-del-modelo-arima."><i class="fa fa-check"></i><b>5.2</b> Resumen por Índice Bursátil: Diagnóstico del Modelo ARIMA.</a></li>
<li class="chapter" data-level="5.3" data-path="implementación-de-modelos..html"><a href="implementación-de-modelos..html#implementación-del-modelo-y-validación-de-supuestos."><i class="fa fa-check"></i><b>5.3</b> Implementación del modelo y validación de supuestos.</a></li>
<li class="chapter" data-level="5.4" data-path="implementación-de-modelos..html"><a href="implementación-de-modelos..html#tabla-de-resumen.-1"><i class="fa fa-check"></i><b>5.4</b> Tabla de resumen.</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Faros del Mercado: Índices Bursátiles que Guían la Economía Mundial.</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="implementación-de-modelos." class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Implementación de modelos.<a href="implementación-de-modelos..html#implementación-de-modelos." class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="validación-de-los-modelos-arima-diagnóstico-de-residuos." class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Validación de los Modelos ARIMA: Diagnóstico de Residuos.<a href="implementación-de-modelos..html#validación-de-los-modelos-arima-diagnóstico-de-residuos." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Una vez ajustados los modelos ARIMA para cada índice bursátil, realizamos un proceso riguroso de validación de residuos. Este paso es esencial para comprobar que los supuestos del modelo se cumplen, y por tanto, que los pronósticos generados por los modelos serán confiables.</p>
<p><strong>1. Selección Automática del Modelo ARIMA.</strong>
Utilizando la función auto.arima() de la librería forecast, se seleccionó automáticamente para cada serie el modelo ARIMA más adecuado, optimizando el criterio AIC. El modelo se representa como ARIMA(p,d,q), donde:</p>
<p><strong>p:</strong> número de rezagos autorregresivos (AR),</p>
<p><strong>d:</strong> orden de diferenciación aplicado,</p>
<p><strong>q:</strong> número de rezagos en el error (MA).</p>
<p>Por ejemplo, el índice SP500 fue modelado con un ARIMA(2,1,2), lo que significa que se usaron dos términos autorregresivos, una diferenciación de orden 1, y dos componentes de media móvil.</p>
<p><strong>2. Evaluación de la Normalidad de los Residuos</strong></p>
<p>Se aplicó la prueba de Shapiro-Wilk para evaluar si los residuos del modelo seguían una distribución normal. La hipótesis nula de esta prueba es que los residuos son normales.</p>
<p><strong>Criterio aplicado:</strong> Si el p-valor &lt; 0.05, se rechaza la hipótesis de normalidad y se concluye que los residuos no son normales.</p>
<p><strong>Resultados:</strong> En todos los índices, el p-valor fue 0, por lo tanto, ninguna serie presentó residuos normalmente distribuidos.</p>
<p><strong>3. Evaluación de Independencia: Ruido Blanco.</strong>
Se utilizó la prueba de Ljung-Box sobre los residuos de cada modelo, para detectar si existía autocorrelación significativa. Esta prueba evalúa si los residuos son ruido blanco, es decir, si son impredecibles y no muestran correlación entre ellos.</p>
<p><strong>Criterio aplicado:</strong> Si el p-valor &gt; 0.05, no se detecta autocorrelación, y se concluye que los residuos son ruido blanco.</p>
</div>
<div id="resumen-por-índice-bursátil-diagnóstico-del-modelo-arima." class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Resumen por Índice Bursátil: Diagnóstico del Modelo ARIMA.<a href="implementación-de-modelos..html#resumen-por-índice-bursátil-diagnóstico-del-modelo-arima." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>SP500.</strong></p>
<p>Modelo ajustado: ARIMA(2,1,2) con término de deriva.
Los residuos no son normales (p = 0), pero sí constituyen ruido blanco (p = 0.56727), lo cual indica un buen ajuste en términos de independencia temporal.</p>
<p><strong>Dow Jones.</strong></p>
<p>Modelo ajustado: ARIMA(2,1,2) con deriva.
Los residuos no siguen distribución normal (p = 0), pero son independientes en el tiempo (p = 0.80404), lo que valida el modelo para fines de predicción.</p>
<p><strong>Nasdaq.</strong></p>
<p>Modelo ajustado: ARIMA(4,1,3) con deriva.
Aunque los residuos no son normales (p = 0), presentan ruido blanco (p = 0.88196), lo cual respalda la validez del modelo ajustado.</p>
<p><strong>DAX.</strong></p>
<p>Modelo ajustado: ARIMA(4,0,3) con media diferente de cero.
Los residuos no son normales (p = 0), pero no presentan autocorrelación significativa (p = 0.08595), por lo que se considera un modelo aceptable.</p>
<p><strong>CAC40.</strong></p>
<p>Modelo ajustado: ARIMA(0,1,0).
Los residuos no son normales (p = 0) y sí presentan autocorrelación (p = 0.03156), lo que indica un modelo que no captura completamente la dinámica de la serie.</p>
<p><strong>FTSE100.</strong></p>
<p>Modelo ajustado: ARIMA(0,1,0).
Los residuos no son normales (p = 0) y están autocorrelacionados (p = 0.00002), lo que sugiere que el modelo es insuficiente y podría mejorarse.</p>
<p><strong>Nikkei225.</strong></p>
<p>Modelo ajustado: ARIMA(1,1,2).
A pesar de que los residuos no son normales (p = 0), sí son ruido blanco (p = 0.62166), lo que respalda su uso en pronósticos.</p>
<p><strong>Hang Seng.</strong></p>
<p>Modelo ajustado: ARIMA(0,1,0).
Los residuos no son normales (p = 0), pero no presentan autocorrelación (p = 0.67402), lo cual valida el modelo.</p>
<p><strong>Shanghai Composite.</strong>
Modelo ajustado: ARIMA(0,1,0).
A pesar de la no normalidad (p = 0), los residuos son ruido blanco (p = 0.39639), lo que indica que el modelo cumple con los supuestos básicos para predicción.</p>
</div>
<div id="implementación-del-modelo-y-validación-de-supuestos." class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Implementación del modelo y validación de supuestos.<a href="implementación-de-modelos..html#implementación-del-modelo-y-validación-de-supuestos." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para cada serie temporal, se ajustó un modelo ARIMA utilizando un proceso automatizado de selección de parámetros. Posteriormente, se evaluó la validez del modelo a través del análisis de los residuos generados. Este análisis incluyó la verificación de normalidad (mediante la prueba de Shapiro-Wilk) y la independencia temporal (usando la prueba de Ljung-Box).
Los pasos fueron los siguientes:</p>
<p><strong>1. Ajuste del modelo ARIMA automáticamente.</strong>
Se utiliza un procedimiento automático (auto.arima) que busca el mejor modelo ARIMA para cada serie, sin considerar estacionalidad.</p>
<p>Este modelo se selecciona con base en criterios como el AIC (Criterio de Información de Akaike), garantizando un equilibrio entre precisión y simplicidad.</p>
<p><strong>2. Evaluación de los residuos del modelo.</strong></p>
<p>Una vez ajustado el modelo, se analizan sus residuos (errores de predicción) para verificar si cumple con los supuestos básicos de un buen modelo de series de tiempo:</p>
<p><strong>a. Comprobación gráfica:</strong></p>
<p>Se grafican los residuos a lo largo del tiempo para visualizar si hay patrones (no debería haberlos).</p>
<p>Se grafica también la ACF (Función de Autocorrelación) de los residuos para ver si hay dependencia entre errores (idealmente no debe haber).</p>
<p><strong>b. Prueba de normalidad (Shapiro-Wilk):</strong></p>
<p>Se verifica si los errores siguen una distribución normal.</p>
<p>Si el valor-p de esta prueba es menor a 0.05, se concluye que los errores no son normales.</p>
<p>Esto es importante porque la normalidad de los residuos ayuda a mejorar la interpretación y precisión de los intervalos de predicción.</p>
<p><strong>c. Prueba de independencia o ruido blanco (Ljung-Box):</strong></p>
<p>Se evalúa si los errores están autocorrelacionados o si son esencialmente aleatorios (ruido blanco).</p>
<p>Si el valor-p es mayor a 0.05, se interpreta que no hay autocorrelación, lo que es deseable en un buen modelo.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="implementación-de-modelos..html#cb33-1" tabindex="-1"></a><span class="co"># Creamos tabla resumen de los modelos y residuos</span></span>
<span id="cb33-2"><a href="implementación-de-modelos..html#cb33-2" tabindex="-1"></a>resumen_modelos <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb33-3"><a href="implementación-de-modelos..html#cb33-3" tabindex="-1"></a>  <span class="at">Indice =</span> <span class="fu">character</span>(),</span>
<span id="cb33-4"><a href="implementación-de-modelos..html#cb33-4" tabindex="-1"></a>  <span class="at">Modelo =</span> <span class="fu">character</span>(),</span>
<span id="cb33-5"><a href="implementación-de-modelos..html#cb33-5" tabindex="-1"></a>  <span class="at">Normalidad =</span> <span class="fu">character</span>(),</span>
<span id="cb33-6"><a href="implementación-de-modelos..html#cb33-6" tabindex="-1"></a>  <span class="at">RuidoBlanco =</span> <span class="fu">character</span>(),</span>
<span id="cb33-7"><a href="implementación-de-modelos..html#cb33-7" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb33-8"><a href="implementación-de-modelos..html#cb33-8" tabindex="-1"></a>)</span>
<span id="cb33-9"><a href="implementación-de-modelos..html#cb33-9" tabindex="-1"></a></span>
<span id="cb33-10"><a href="implementación-de-modelos..html#cb33-10" tabindex="-1"></a><span class="co"># Función para ajustar ARIMA y evaluar residuos</span></span>
<span id="cb33-11"><a href="implementación-de-modelos..html#cb33-11" tabindex="-1"></a>evaluar_residuos_arima <span class="ot">&lt;-</span> <span class="cf">function</span>(ts_final, nombre_indice) {</span>
<span id="cb33-12"><a href="implementación-de-modelos..html#cb33-12" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n\n</span><span class="st">=== Diagnóstico ARIMA -&quot;</span>, nombre_indice, <span class="st">&quot;===</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb33-13"><a href="implementación-de-modelos..html#cb33-13" tabindex="-1"></a>  </span>
<span id="cb33-14"><a href="implementación-de-modelos..html#cb33-14" tabindex="-1"></a>  modelo <span class="ot">&lt;-</span> <span class="fu">auto.arima</span>(ts_final, <span class="at">seasonal =</span> <span class="cn">FALSE</span>)</span>
<span id="cb33-15"><a href="implementación-de-modelos..html#cb33-15" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Modelo ajustado:&quot;</span>, <span class="fu">as.character</span>(modelo), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb33-16"><a href="implementación-de-modelos..html#cb33-16" tabindex="-1"></a>  </span>
<span id="cb33-17"><a href="implementación-de-modelos..html#cb33-17" tabindex="-1"></a>  residuos <span class="ot">&lt;-</span> <span class="fu">residuals</span>(modelo)</span>
<span id="cb33-18"><a href="implementación-de-modelos..html#cb33-18" tabindex="-1"></a>  </span>
<span id="cb33-19"><a href="implementación-de-modelos..html#cb33-19" tabindex="-1"></a>  <span class="co"># Gráfico de residuos</span></span>
<span id="cb33-20"><a href="implementación-de-modelos..html#cb33-20" tabindex="-1"></a>  <span class="fu">plot</span>(residuos, <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;Residuos ARIMA -&quot;</span>, nombre_indice), <span class="at">ylab =</span> <span class="st">&quot;Error&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Tiempo&quot;</span>)</span>
<span id="cb33-21"><a href="implementación-de-modelos..html#cb33-21" tabindex="-1"></a>  <span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb33-22"><a href="implementación-de-modelos..html#cb33-22" tabindex="-1"></a>  </span>
<span id="cb33-23"><a href="implementación-de-modelos..html#cb33-23" tabindex="-1"></a>  <span class="co"># ACF de residuos</span></span>
<span id="cb33-24"><a href="implementación-de-modelos..html#cb33-24" tabindex="-1"></a>  <span class="fu">acf</span>(residuos, <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;ACF de Residuos -&quot;</span>, nombre_indice))</span>
<span id="cb33-25"><a href="implementación-de-modelos..html#cb33-25" tabindex="-1"></a>  </span>
<span id="cb33-26"><a href="implementación-de-modelos..html#cb33-26" tabindex="-1"></a>  <span class="co"># Prueba de normalidad (Shapiro-Wilk)</span></span>
<span id="cb33-27"><a href="implementación-de-modelos..html#cb33-27" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(residuos) <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="fu">length</span>(residuos) <span class="sc">&lt;=</span> <span class="dv">5000</span>) {</span>
<span id="cb33-28"><a href="implementación-de-modelos..html#cb33-28" tabindex="-1"></a>    p_normal <span class="ot">&lt;-</span> <span class="fu">shapiro.test</span>(residuos)<span class="sc">$</span>p.value</span>
<span id="cb33-29"><a href="implementación-de-modelos..html#cb33-29" tabindex="-1"></a>    normalidad <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(p_normal <span class="sc">&lt;</span> <span class="fl">0.05</span>, <span class="st">&quot;No normal&quot;</span>, <span class="st">&quot;Normal&quot;</span>)</span>
<span id="cb33-30"><a href="implementación-de-modelos..html#cb33-30" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;p-valor Shapiro-Wilk:&quot;</span>, <span class="fu">round</span>(p_normal, <span class="dv">5</span>), <span class="st">&quot;-&quot;</span>, normalidad, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb33-31"><a href="implementación-de-modelos..html#cb33-31" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb33-32"><a href="implementación-de-modelos..html#cb33-32" tabindex="-1"></a>    normalidad <span class="ot">&lt;-</span> <span class="st">&quot;No evaluada&quot;</span></span>
<span id="cb33-33"><a href="implementación-de-modelos..html#cb33-33" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Tamaño inadecuado para Shapiro-Wilk.</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb33-34"><a href="implementación-de-modelos..html#cb33-34" tabindex="-1"></a>  }</span>
<span id="cb33-35"><a href="implementación-de-modelos..html#cb33-35" tabindex="-1"></a></span>
<span id="cb33-36"><a href="implementación-de-modelos..html#cb33-36" tabindex="-1"></a>  <span class="co"># Prueba de independencia (Ljung-Box)</span></span>
<span id="cb33-37"><a href="implementación-de-modelos..html#cb33-37" tabindex="-1"></a>  p_ljung <span class="ot">&lt;-</span> <span class="fu">Box.test</span>(residuos, <span class="at">lag =</span> <span class="dv">20</span>, <span class="at">type =</span> <span class="st">&quot;Ljung-Box&quot;</span>)<span class="sc">$</span>p.value</span>
<span id="cb33-38"><a href="implementación-de-modelos..html#cb33-38" tabindex="-1"></a>  ruido <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(p_ljung <span class="sc">&lt;</span> <span class="fl">0.05</span>, <span class="st">&quot;Autocorrelados&quot;</span>, <span class="st">&quot;Ruido blanco&quot;</span>)</span>
<span id="cb33-39"><a href="implementación-de-modelos..html#cb33-39" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;p-valor Ljung-Box:&quot;</span>, <span class="fu">round</span>(p_ljung, <span class="dv">5</span>), <span class="st">&quot;-&quot;</span>, ruido, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb33-40"><a href="implementación-de-modelos..html#cb33-40" tabindex="-1"></a>  </span>
<span id="cb33-41"><a href="implementación-de-modelos..html#cb33-41" tabindex="-1"></a>  <span class="co"># Guardamos el resultado en la tabla</span></span>
<span id="cb33-42"><a href="implementación-de-modelos..html#cb33-42" tabindex="-1"></a>  resumen_modelos <span class="ot">&lt;&lt;-</span> <span class="fu">rbind</span>(resumen_modelos, <span class="fu">data.frame</span>(</span>
<span id="cb33-43"><a href="implementación-de-modelos..html#cb33-43" tabindex="-1"></a>    <span class="at">Indice =</span> nombre_indice,</span>
<span id="cb33-44"><a href="implementación-de-modelos..html#cb33-44" tabindex="-1"></a>    <span class="at">Modelo =</span> <span class="fu">as.character</span>(modelo),</span>
<span id="cb33-45"><a href="implementación-de-modelos..html#cb33-45" tabindex="-1"></a>    <span class="at">Normalidad =</span> normalidad,</span>
<span id="cb33-46"><a href="implementación-de-modelos..html#cb33-46" tabindex="-1"></a>    <span class="at">RuidoBlanco =</span> ruido</span>
<span id="cb33-47"><a href="implementación-de-modelos..html#cb33-47" tabindex="-1"></a>  ))</span>
<span id="cb33-48"><a href="implementación-de-modelos..html#cb33-48" tabindex="-1"></a>}</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="implementación-de-modelos..html#cb34-1" tabindex="-1"></a><span class="cf">for</span> (indice <span class="cf">in</span> nombres_indices) {</span>
<span id="cb34-2"><a href="implementación-de-modelos..html#cb34-2" tabindex="-1"></a>  <span class="fu">evaluar_residuos_arima</span>(series_preparadas[[indice]], indice)</span>
<span id="cb34-3"><a href="implementación-de-modelos..html#cb34-3" tabindex="-1"></a>}</span></code></pre></div>
</details>
<pre><code>## 
## 
## === Diagnóstico ARIMA - SP500 ===
## Modelo ajustado: ARIMA(2,1,2) with drift</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-1.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-2.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.56727 - Ruido blanco 
## 
## 
## === Diagnóstico ARIMA - DowJones ===
## Modelo ajustado: ARIMA(2,1,2) with drift</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-3.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-4.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.80404 - Ruido blanco 
## 
## 
## === Diagnóstico ARIMA - Nasdaq ===
## Modelo ajustado: ARIMA(4,1,3) with drift</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-5.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-6.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.88196 - Ruido blanco 
## 
## 
## === Diagnóstico ARIMA - DAX ===
## Modelo ajustado: ARIMA(4,0,3) with non-zero mean</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-7.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-8.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.08595 - Ruido blanco 
## 
## 
## === Diagnóstico ARIMA - CAC40 ===
## Modelo ajustado: ARIMA(0,1,0)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-9.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-10.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.03156 - Autocorrelados 
## 
## 
## === Diagnóstico ARIMA - FTSE100 ===
## Modelo ajustado: ARIMA(0,1,0)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-11.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-12.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 2e-05 - Autocorrelados 
## 
## 
## === Diagnóstico ARIMA - Nikkei225 ===
## Modelo ajustado: ARIMA(1,1,2)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-13.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-14.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.62166 - Ruido blanco 
## 
## 
## === Diagnóstico ARIMA - HangSeng ===
## Modelo ajustado: ARIMA(0,1,0)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-15.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-16.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.67402 - Ruido blanco 
## 
## 
## === Diagnóstico ARIMA - ShanghaiComposite ===
## Modelo ajustado: ARIMA(0,1,0)</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-37-17.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-37-18.png" width="672" /></p>
<pre><code>## p-valor Shapiro-Wilk: 0 - No normal 
## p-valor Ljung-Box: 0.39639 - Ruido blanco</code></pre>
</div>
<div id="tabla-de-resumen.-1" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Tabla de resumen.<a href="implementación-de-modelos..html#tabla-de-resumen.-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="implementación-de-modelos..html#cb45-1" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb45-2"><a href="implementación-de-modelos..html#cb45-2" tabindex="-1"></a>  resumen_modelos,</span>
<span id="cb45-3"><a href="implementación-de-modelos..html#cb45-3" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&quot;Resumen del modelo ARIMA y diagnóstico de residuos por índice bursátil&quot;</span></span>
<span id="cb45-4"><a href="implementación-de-modelos..html#cb45-4" tabindex="-1"></a>)</span></code></pre></div>
</details>
<table>
<caption><span id="tab:unnamed-chunk-38">Table 5.1: </span>Resumen del modelo ARIMA y diagnóstico de residuos por índice bursátil</caption>
<colgroup>
<col width="23%" />
<col width="42%" />
<col width="14%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Indice</th>
<th align="left">Modelo</th>
<th align="left">Normalidad</th>
<th align="left">RuidoBlanco</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">SP500</td>
<td align="left">ARIMA(2,1,2) with drift</td>
<td align="left">No normal</td>
<td align="left">Ruido blanco</td>
</tr>
<tr class="even">
<td align="left">DowJones</td>
<td align="left">ARIMA(2,1,2) with drift</td>
<td align="left">No normal</td>
<td align="left">Ruido blanco</td>
</tr>
<tr class="odd">
<td align="left">Nasdaq</td>
<td align="left">ARIMA(4,1,3) with drift</td>
<td align="left">No normal</td>
<td align="left">Ruido blanco</td>
</tr>
<tr class="even">
<td align="left">DAX</td>
<td align="left">ARIMA(4,0,3) with non-zero mean</td>
<td align="left">No normal</td>
<td align="left">Ruido blanco</td>
</tr>
<tr class="odd">
<td align="left">CAC40</td>
<td align="left">ARIMA(0,1,0)</td>
<td align="left">No normal</td>
<td align="left">Autocorrelados</td>
</tr>
<tr class="even">
<td align="left">FTSE100</td>
<td align="left">ARIMA(0,1,0)</td>
<td align="left">No normal</td>
<td align="left">Autocorrelados</td>
</tr>
<tr class="odd">
<td align="left">Nikkei225</td>
<td align="left">ARIMA(1,1,2)</td>
<td align="left">No normal</td>
<td align="left">Ruido blanco</td>
</tr>
<tr class="even">
<td align="left">HangSeng</td>
<td align="left">ARIMA(0,1,0)</td>
<td align="left">No normal</td>
<td align="left">Ruido blanco</td>
</tr>
<tr class="odd">
<td align="left">ShanghaiComposite</td>
<td align="left">ARIMA(0,1,0)</td>
<td align="left">No normal</td>
<td align="left">Ruido blanco</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="desarrollo-actividad-3..html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
